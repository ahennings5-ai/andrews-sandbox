generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model BusinessIdea {
  id            String   @id @default(cuid())
  name          String
  oneLiner      String
  category      String
  source        String
  whyNow        String
  scores        Json
  personalFit   Json
  status        String   @default("new")
  layer         Int      @default(1)
  businessCase  Json?
  executionPlan Json?
  notes         String   @default("")
  createdAt     DateTime @default(now())
  updatedAt     DateTime
}

model MealPlan {
  id           String   @id
  weekOf       String   @unique
  planData     Json
  checkedItems Json     @default("{}")
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  attendance   Json?
}

model MealPreference {
  id        String   @id
  mealId    String
  mealType  String
  mealName  String
  rating    Int
  person    String?
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@unique([mealId, person])
}

model RunLog {
  id          String   @id
  week        Int
  day         Int
  date        String
  actualMiles Float
  duration    String
  pace        String
  feeling     String
  notes       String   @default("")
  createdAt   DateTime @default(now())
  updatedAt   DateTime

  @@unique([week, day])
}
